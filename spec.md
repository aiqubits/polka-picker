# Windows 用户任务系统管控平台

## 后端设计

### Runner 类型（任务类型）

脚本：本地运行， Powershell 脚本， Python 脚本， Nodejs 脚本

小应用：云端运行应用（ Webassembly 应用）

### 用户类型

普通用户：可以安装平台，下载任务，并执行任务。邀请用户注册获得积分

开发者用户：基于普通用户权限，可以上传注册并上传任务到 Runner 市场

管理员：后台管理员，拥有超级权限；编辑所有用户，编辑所有已经注册得 Runner 任务，编辑所有小应用（在云端运行的应用）

### 用户积分制

普通用户免费获取每月30 积分（不积累，隔月重置），运行付费任务会扣除对应的积分，安装下载任务扣除15分，运行一次扣除5分（正式运行前进行dry-run运行） 

开发者用户除了普通用户每月可获取的积分外，额外别人每下载安装一次开发者上传的任务，则积分增加10分，每成功运行一次任务增加2分 

### Runner 市场（任务市场）

开发者的所有任务需要注册并上传到任务市场，用户从任务市场下载并安装执行任务

管理远可在后台编辑任务的名称，任务描述，任务开发者信息，或者删除，上传覆盖，下载任务等所有权限

### 后端技术栈

Rust actix-web 4.0.0-beta.8

webassembly 管控

## 客户端设计

导航：从左至右，依次为主页，市场，用户信息。

导航如下图：


主页展示用户当前任务列表，任务安装日期 YYMMDD ，执行次数，任务状态，上一次执行日期 YYMMDD。

主页展示如下图：

市场展示已经上传的 Runner 任务列表，开发者名称，更新日期，版本号；点击任务名称，进入任务详情，除了包含列表中展示的信息外，展示任务描述，用户操作手册等。

市场详情如下图：



用户信息，靠右对齐，邮箱注册登录。未登录时显示注册或登录，已登录后显示用户名和免费积分额度与充值积分额度。点击用户名进入用户详情，除了包含用户名和积分额度外，还包含充值记录列表，充值大小，日期等。

用户详情如下图：



左侧边栏：从上至下，依次为手册，博客，人工客服。

左侧边栏如下图：

手册展示 Windows Powershell 权限设置， Python与Nodejs安装说明。Runner 任务演示视频等。

手册展示如下图：


博客展示最新的资讯，开发进度，版本进度等。

博客展示如下图：


人工客服，靠第二段布局内容底部对齐，展示微信与邮箱联系方式等。

人工客服展示如下图：


底部任务日志流信息：第三段布局内容仅展示任务输出日志流，不可操作。调用 Windows Powershell 展示终端。

底部任务日志流信息如下图：

![alt text](image.png)

### 客户端技术栈

Tauri 2.0